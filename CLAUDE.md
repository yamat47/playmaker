# Claude Code メモ

## 重要な作業ルール

### コード変更後の必須チェック

コードを変更した後は、必ず以下のコマンドを実行してエラーがないことを確認する：

1. **型チェック**: `pnpm run typecheck`
2. **リント**: `pnpm run lint`
3. **テスト**: `pnpm run test --run`
4. **ビルド**: `pnpm run build`

### CI/CD

- GitHub ActionsでCIが設定されており、以下が自動実行される：
  - ESLintによるコード品質チェック
  - Prettierによるコードフォーマットチェック
  - TypeScriptの型チェック
  - Vitestによるテスト実行
  - ビルドの成功確認
- mainブランチとviveブランチへのpush、およびmainブランチへのPRで自動実行

### パッケージマネージャー

- **pnpm** を使用すること（npmではない）

### コーディング規約

- **すべてのファイルの末尾に改行を入れること**
- **Prettierでコードフォーマットを統一すること**
  - `pnpm prettier --write "**/*.{js,jsx,ts,tsx,json,css,md}"` でフォーマット
  - pre-commitフックで自動フォーマットされる

### テスト駆動開発（TDD）

- **t-wadaのTDDアプローチに従って実装を進めること**
- 新機能の実装時は以下のサイクルを守る：
  1. **Red**: 失敗するテストを先に書く
  2. **Green**: テストを通す最小限の実装を行う
  3. **Refactor**: コードをリファクタリングして品質を向上させる
- テストファーストで考え、実装前に期待する振る舞いを明確にする
- 各機能に対して適切なユニットテストを書く

### 現在のプロジェクト

- アメリカンフットボールのプレイダイアグラムエディタ
- React + TypeScript + Vite + Tailwind CSS
- Canvas描画にはKonva.jsを使用予定（依存関係には追加済み）

### Using MCP

実装中に技術的に詰まったところやわからないところ、解決できないエラーなどがあればo3 mcpに英語で相談して。
